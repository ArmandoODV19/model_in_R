---
title: "Modelos lineales"
author: "Armando Ocampo"

output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Librerias de trabajo

Antes de comenzar a trabajar, te recomiendo abrir las siguientes librerias. Si no cuentas con alguna de ellas es posible instalarla mediante la función *install.packages()*

```{r librerias, echo=TRUE, message=FALSE, warning=FALSE}
library(readr)
library(dplyr)
library(corrplot)
library(ggplot2)
library(scales)
library(ggpubr)
library(broom)
```

Asimismo, se agregan dos conjuntos de datos. Los cuales debes descargar y guardar en la carpeta *clean_data*.

## Modelos lineales

Para este apartado utilizaremos el conjunto de datos de vacunación obtenido del portal **Our World in Data**, el cual se conforma por información de 171 países, agregando las variables esperanza de vida, producto interno bruto *per capita* y porcentaje de vacunación de 13 inmunizaciones. Este dataset tiene actualización al 31 de diciembre de 2019. El formato es un archivo de valores separados por coma (*comma separate values, csv*). Antes de comenzar, lo llamaremos a nuestro ambiente de trabajo.

```{r vacunas, echo=TRUE, message=FALSE, warning=FALSE}
vacunas_df <- read_csv('../data/dataset_vacunas.csv')
```

Para facilitar el uso de las variables del conjunto de datos utilizaremos la función *attach()* de la paquetería *base*. Esta permite que cada variable del dataset se vuelva un vector independiente, sin saturar la memoria del ambiente.

```{r attach, echo=TRUE}
attach(vacunas_df)
```

Los modelos lineales describen la relación de la variable respuesta (dependiente) y la(s) variable(s) explicativa(s) (independiente). Esta relación puede ser positiva, negativa o estar ausente. En R, este tipo de modelos se realiza mediante la función *lm()* de la paquetería *stats*. Los argumentos que se colocan son los siguientes. *formula = y~x*, describe la relación de la variable "y" con la variable "x" (*y~x*, este elemento indica, en medida que x explica y). El siguiente argumento, *data=* detalla el conjunto de datos a utilizar. En el siguiente ejemplo se creará un modelo lineal que exlique la relación de la esperanza de vida con el producto interno bruto en el conjunto de datos de vacunas.

```{r gdp_life, echo=TRUE}
gdp_vs_life <- lm(Life_expectancy~GDP, data = vacunas_df)

```

Para extraer la información del modelo se utilizan las funciones *print()*, *summary()* y *tidy()*.

```{r gdp_life_coeficientes, echo=TRUE}
summary(gdp_vs_life)
confint(gdp_vs_life)
tidy(gdp_vs_life)
```

